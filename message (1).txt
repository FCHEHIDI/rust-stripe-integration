instructions écrites ```Gestion de panier et paiement

**Objectif** : Traiter un paiement pour plusieurs articles

Vous codez l'API backend d'un site e-commerce de vente de casquettes ( le produit que vous voulez ). Vous disposez d'un catalogue de différentes casquettes à taille unique.

Vous devez être capable de :

- Stocker le panier de l'utilisateur
- Le rediriger vers un portail de paiement
- Recevoir la confirmation ou l'échec du paiement
- Le notifier de la bonne réception de sa commande ( console log )
- Gérer la modification des stocks en temps réel avec vérification de disponibilité avant validation du paiement
- Conserver l'historique complet des commandes (statut, articles, montants, dates)

# Abonnement récurrent avec période d'essai

**Objectif** : Mettre en place un système d'abonnement

Vous codez l'API backend d'un site d'abonnement à un journal. Il existe 3 formules d'abonnement : Normal (10€), Supplément (15€), Complet (20€).

Vous devez être capable de :

- Recevoir la demande d'abonnement
- Rediriger vers un service de recueil du paiement
- Traiter la réussite du paiement en inscrivant la personne comme abonné
- Mettre en place un système de relance en cas d'expiration proche de la carte bancaire
- Notifier l'utilisateur par email lors de chaque prélèvement
- Gérer l'échec de paiement en réessayant 3 fois en 3 jours avant de suspendre l'abonnement
- Notifier l'utilisateur en cas de suspension d'abonnement

# Sauvegarde et réutilisation de moyens de paiement

**Objectif** : Vous devez gérer l'enregistrement et la réutilisation des moyens de paiement de l'utilisateur.

Vous devez être capable de :

- Proposer à l'utilisateur de sauvegarder son moyen de paiement lors d'un achat
- Afficher la liste des moyens de paiement enregistrés, avec identification de la carte possible
- Permettre la sélection d'un moyen de paiement sauvegardé lors d'un nouvel achat
- Gérer la suppression d'un moyen de paiement enregistré
- Notifier l'utilisateur en cas d'expiration de carte
- Effectuer un paiement avec le moyen sauvegardé```